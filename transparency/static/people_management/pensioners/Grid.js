/** autogenerated **/
/**
 *
 **/
Ext._define('transparency.people_management.pensioners.Grid', {
    extend: 'core.RestfulGrid',

    restWindow: 'transparency.people_management.pensioners.Window',
    rest: 'transparency.people_management.pensioners.Restful',

    configOrderToolBar: ['add', '-', 'loadData', '-', 'search', '->','download'],

    hideActions: ['remove', 'edit'],

    getColumnModel: function() {
        if(!this._columnModel)
            this._columnModel = Ext._create(
                'Ext.grid.ColumnModel',
                [
                    Ext._create('Ext.grid.RowNumberer'),
                    {header: 'Cod', dataIndex: 'pk', width: 50, hidden: true},
                    {header: 'Instituidor da Pensão', dataIndex: 'name_founder', width: 90},
                    {header: 'Cargo Efetivo', dataIndex: 'effective_role', width: 90},
                    {header: 'Pensionista', dataIndex: 'name_pensioner', width: 90, id: 'autoExpandColumn'},
                    {header: 'Ato/Portaria nº', dataIndex: 'ordinance_number_pension', renderer: function(value, element, record) { return record.data['ordinance_number_pension']+'/'+record.data['ordinance_year_pension']; },  width: 90},
                    {header: 'Data da Publicação', dataIndex: 'publication_date_pension', width: 90},
                    {header: 'created by', dataIndex: 'created_by_unicode', width: 120, hidden: true},
                    {header: 'modified by', dataIndex: 'modified_by_unicode', width: 120, hidden: true},
                    {header: 'created at', dataIndex: 'created_at', width: 90, renderer: Ext.util.Format.dateRenderer('d/m/Y H:i'), hidden: true},
                    {header: 'modified at', dataIndex: 'modified_at', width: 90, renderer: Ext.util.Format.dateRenderer('d/m/Y H:i'), hidden: true},
                ]
            );

        return this._columnModel;
    },

    loadingData: function() {    
        var _window = Ext._create(
            'transparency.people_management.pensioners.PMLoadDataWindow'
        );

        _window.show();
    },

    getLoadDataAction: function () {
        if (!this._loadData)  {
            this._loadData = Ext._create('Ext.Button', {
                text: 'Carregar Dados',
                iconCls: 'icon-agree icon-agree-appointment-new',
                scope: this,
                handler: function () {
                    this.loadingData();
                }
            });
        }
        return this._loadData;
    },

});

core.RestfulGrid.register(
    'transparency.people_management.pensioners.Restful',
    'transparency.people_management.pensioners.Grid'
);

