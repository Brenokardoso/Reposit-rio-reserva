/** autogenerated **/
/**
 *
 **/
 Ext._define('transparency.people_management.collaborators.Grid', {
    extend: 'core.RestfulGrid',

    restWindow: 'transparency.people_management.collaborators.Window',
    rest: 'transparency.people_management.collaborators.Restful',

    configOrderToolBar: ['add', '-', 'loadData', '-', 'search', '->', 'download'],

    hideActions: ['remove', 'edit'],

    getColumnModel: function() {
        if(!this._columnModel)
            this._columnModel = Ext._create(
                'Ext.grid.ColumnModel',
                [
                    Ext._create('Ext.grid.RowNumberer'),
                    {header: 'Cod', dataIndex: 'pk', width: 50, hidden: true},
                    {header: 'Mês', dataIndex: 'month', width: 90},
                    {header: 'Ano', dataIndex: 'year', width: 90},
                    {header: 'Nome', dataIndex: 'name', width: 90, id: 'autoExpandColumn'},
                    {header: 'Categoria', dataIndex: 'cathegory', width: 90},
                    {header: 'Lotação', dataIndex: 'workplace', width: 90},
                    {header: 'Ato de Nomeação/Designação', dataIndex: 'act_number', width: 90, renderer: function(value, element, record) { return record.data['act_number']+'/'+record.data['act_year'] }},
                    {header: 'created by', dataIndex: 'created_by_unicode', width: 120, hidden: true},
                    {header: 'modified by', dataIndex: 'modified_by_unicode', width: 120, hidden: true},
                    {header: 'created at', dataIndex: 'created_at', width: 90, renderer: Ext.util.Format.dateRenderer('d/m/Y H:i'), hidden: true},
                    {header: 'modified at', dataIndex: 'modified_at', width: 90, renderer: Ext.util.Format.dateRenderer('d/m/Y H:i'), hidden: true},
                ]
            );

        return this._columnModel;
    },

loadingData: function() {    
    var _window = Ext._create(
        'transparency.people_management.collaborators.PMLoadDataWindow'
    );

    _window.show();
},

getLoadDataAction: function () {
    if (!this._loadData)  {
        this._loadData = Ext._create('Ext.Button', {
            text: 'Carregar Dados',
            iconCls: 'icon-agree icon-agree-appointment-new',
            scope: this,
            handler: function () {
                this.loadingData();
            }
        });
    }
    return this._loadData;
},

});

core.RestfulGrid.register(
    'transparency.people_management.collaborators.Restful',
    'transparency.people_management.collaborators.Grid'
);


